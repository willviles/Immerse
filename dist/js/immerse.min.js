!function($,window,document,undefined){var Immerse=function(){};Immerse.prototype={setup:function(setup){return this.defaults={preload:{},options:{sectionSelector:".imm-section",defaultTransition:{type:"scroll",duration:250},breakpoints:{mobile:480,tablet:768,mdDesktop:992,lgDesktop:1200},muteButton:{unmuted:"Audio On",muted:"Audio Off"}},sections:[]},this.setup=$.extend(!0,this.defaults,setup),this},init:function(elem){this.elem=elem,this.$elem=$(elem),this._assets=this.setup.assets,this._sections=[],this._isScrolling=!1,this._canScroll=!0,this._allAudio=[];var that=this;this.utils.deviceView.init.call(this);var assets=this.controllers.assets.register.call(this,this);return this.controllers.section.call(this,this),$.Immerse.scrollController.init(this),this.controllers.navigation.init.call(this,this),$.Immerse.audioController.init(this),$.when(assets).then(function(s){$.each(that._sections,function(i,s){$(s.element).trigger("init")}),that.$elem.trigger("immInit"),$(".imm-loading").hide()},function(s){alert("Asset loading failed")}),this},controllers:{section:function(that){var $allSectionElems=$(this.setup.options.sectionSelector);$.each($allSectionElems,function(i,$s){var u=$($s).hasClass("imm-fullscreen")?!1:!0,n=that.utils.stringify($($s)[0].id),s={name:n,element:$($s),updateNav:that.setup.options.updateNav,transition:that.setup.options.transition,options:{hideFromNav:!1,unbindScroll:u}};that._sections.push(s)}),$.each(this.setup.sections,function(i,s){var $s=$(s.element);$.each(that._sections,function(i,_s){that._sections[i]=$(_s.element)[0]===$(s.element)[0]?s:_s}),$.each(s.animations,function(name,animation){that.controllers.animation.call(that,$s,name,animation)}),$.each(s.actions,function(name,action){that.controllers.action.call(that,$s,name,action)}),$.each(s.attributes,function(name,attr){that.controllers.attribute.call(that,$s,name,attr)});var sectionVideos=$s.find("[data-imm-video]");$.each(sectionVideos,function(i,wrapper){$.Immerse.videoController.init(that,s,$(wrapper))});var tooltips=$s.find("[data-imm-tooltip]");$.each(tooltips,function(i,tooltip){that.components.tooltips.init.call(that,$(tooltip))})}),$.Immerse.scrollController.updateSectionOffsets(this),this._sections.sort(function(obj1,obj2){return obj1.scrollOffset-obj2.scrollOffset})},animation:function(s,n,a){if(this.utils.deviceView.check.call(this,a)===!1)return!1;var runtimeStr,resetStr,t=new TimelineMax({paused:!0}),c=a.timeline(s),d=isNaN(a.delay)?null:a.delay;null!==d&&t.set({},{},"+="+d),t.add(c),$.each(a.runtime,function(i,r){runtimeStr=runtimeStr+" "+r}),$.each(a.reset,function(i,r){resetStr=resetStr+" "+r}),s.on(runtimeStr,function(){console.log("Running "+n),t.play()}),s.on(resetStr,function(){console.log("Resetting "+n),t.pause(0,!0)})},action:function(s,n,a){if(this.utils.deviceView.check.call(this,a)===!1)return!1;var runtimeStr,action=a.action,d=isNaN(a.delay)?0:a.delay,that=this;$.each(a.runtime,function(i,r){runtimeStr=runtimeStr+" "+r}),s.on(runtimeStr,function(){setTimeout(function(){action.call(that,s)},d)})},attribute:function(s,n,a){if(this.utils.deviceView.check.call(this,a)===!1)return!1;var runtimeStr,value=a.value,d=isNaN(a.delay)?0:a.delay,that=this;$.each(a.runtime,function(i,r){runtimeStr=runtimeStr+" "+r}),s.on(runtimeStr,function(){setTimeout(function(){that.$elem.trigger(n,value)},d)})},navigation:{init:function(that){this.controllers.navigation.addToDOM.call(this);var navItem=$('.imm-nav-list li a[data-imm-section="#'+this._currentSection.element[0].id+'"]');that.controllers.navigation.update.call(that,navItem),$(".imm-nav-list li a").on("click",function(){var $target=$($(this).data("imm-section"));$.Immerse.scrollController.doScroll(that,$target)}),this.$elem.on("sectionChanged",function(e,d){var navItem=$('.imm-nav-list li a[data-imm-section="#'+d.current.element[0].id+'"]');that.controllers.navigation.update.call(that,navItem)})},addToDOM:function(){var nav=$(".imm-nav-list");if(0===nav.length)return!1;var str="";$.each(this._sections,function(i,s){s.options.hideFromNav||(str=str+'<li><a class="imm-nav-link" data-imm-section="#'+s.element[0].id+'"><span>'+s.name+"</span></a></li>")}),nav.html(str)},update:function($e){$(".imm-nav-list li a").removeClass("current"),$e.length>0&&$e.addClass("current")}},assets:{register:function(that){var assetLoadingFailed,assetQueueLoaded=jQuery.Deferred(),assetQueue=[],assetQueueCheck=function(){0===assetQueue.length&&(assetQueueLoaded.resolve("loaded"),clearTimeout(assetLoadingFailed))};return $.each(this._assets,function(n,a){if("audio"===a.type&&that.controllers.assets.addToDOM.audio.call(that,n,a),"video"===a.type&&that.controllers.assets.addToDOM.video.call(that,n,a),a.wait===!0){if(a.error)return void console.log("Asset Failure: Could not preload "+a.type+" asset '"+n+"'");assetQueue.push({name:n,asset:a})}}),$.each(assetQueue,function(i,a){var n=a.name,a=a.asset;if(("audio"===a.type||"video"===a.type)&&$(a.type+"#"+n)[0].addEventListener("canplaythrough",function(){assetQueue.splice($.inArray(a,assetQueue),1),assetQueueCheck()},!1),"image"===a.type){var fileTypes=$.isArray(a.fileTypes)?a.fileTypes:["jpg"],imagesLoadComplete=jQuery.Deferred(),imagesLoadCheck=function(){0===fileTypes.length&&imagesLoadComplete.resolve("loaded")};$.each(fileTypes,function(i,ft){var tmp=new Image;tmp.src=a.path+"."+ft,tmp.onload=function(){fileTypes.splice($.inArray(ft,fileTypes),1),imagesLoadCheck()}}),imagesLoadComplete.done(function(){assetQueue.splice($.inArray(a,assetQueue),1),assetQueueCheck()})}}),assetQueueCheck(),assetLoadingFailed=setTimeout(function(){assetQueueLoaded.reject("problem")},1e4),assetQueueLoaded.promise()},addToDOM:{audio:function(n,a){if(a.path===undefined)return console.log("Asset Error: Must define a path for audio asset '"+n+"'"),a.error=!0,!1;var l=1==a.loop?"loop":"",fileTypes=$.isArray(a.fileTypes)?a.fileTypes:["mp3"],sourceStr="";return $.each(fileTypes,function(i,ft){sourceStr=sourceStr+'<source src="'+a.path+"."+ft+'" type="audio/'+ft+'">'}),this.$elem.append('<audio id="'+n+'" class="imm-audio" '+l+">"+sourceStr+"</audio>"),this._allAudio.push(n),!0},video:function(n,o){if(o.path===undefined)return console.log("Asset Error: Must define a path for video asset '"+n+"'"),o.error=!0,!1;var $wrapper=this.$elem.find('[data-imm-video="'+n+'"]'),fileTypes=$.isArray(o.fileTypes)?o.fileTypes:["mp4","ogv","webm"],loop=o.loop===!1?"":'loop="loop" ',sourceStr="";if($wrapper.css("background-image","url("+o.path+".jpg)"),this._isMobile)return!1;$.each(fileTypes,function(i,ft){sourceStr=sourceStr+'<source src="'+o.path+"."+ft+'" type="video/'+ft+'">'});var $v=$("<video "+loop+">"+sourceStr+"</video>");$wrapper.append($v)}}}},components:{sliders:{},modals:{},stacks:{},tooltips:{init:function($t){var c=$t.data("imm-tooltip"),c="#"===c.charAt(0)?$(c):c,c=c.jquery?$(c).html():c,that=this;$tContent=$('<span class="imm-tooltip">'+c+"</span>"),$t.append($tContent),$t.on("mouseover",function(){that.components.tooltips.position.call(that,$t,$tContent)})},position:function($t,$tContent){$tContent.removeClass("top left right bottom");var tHeight=$tContent.height(),tWidth=$tContent.width(),tXY=$t[0].getBoundingClientRect(),p="top";tHeight>=tXY.top&&(p="bottom"),tWidth/2>=tXY.left?p="right":tWidth/2>=$(window).width()-tXY.right&&(p="left"),$tContent.addClass(p)}}},utils:{deviceView:{init:function(){this._windowWidth=$(window).width(),this._windowHeight=$(window).height(),this.utils.deviceView.set.call(this,this._windowWidth),this.utils.deviceView.resize.call(this,this)},set:function(width){var isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|OperaMini/i.test(navigator.userAgent),isMobileWidth=480>=width;isMobile||isMobileWidth?(this._device="mobile",this._isMobile=!0,this._isDesktop=!1):(this._device="desktop",this._isMobile=!1,this._isDesktop=!0)},resize:function(that){this._windowWidth=$(window).width(),this._windowHeight=$(window).height(),$(window).on("resize",function(){that.utils.deviceView.set.call(that,that._windowWidth),$.Immerse.scrollController.updateSectionOffsets(that),$.Immerse.scrollController.stickSection(that),that._isMobile||$.Immerse.videoController.resizeAll(that)})},check:function(a){var mobile=-1!==$.inArray("mobile",a.devices),desktop=-1!==$.inArray("desktop",a.devices);return mobile&&!desktop&&!this._isMobile||desktop&&!mobile&&!this._isDesktop?!1:void 0}},stringify:function(str){return str.replace(/[-_]/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").toLowerCase().replace(/\b[a-z]/g,function(letter){return letter.toUpperCase()})},cookies:{set:function(name,value,expiresInSeconds){var r=new Date;r.setTime(r.getTime()+24*expiresInSeconds*60*60*1e3);var i="expires="+r.toGMTString();document.cookie=name+"="+value+"; "+i},get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(-1!=i.indexOf(t))return i.substring(t.length,i.length)}return""},"delete":function(e){this.utils.cookies.set.call(this,e,"",-1)}},extendSection:function(section){var defaults={name:section.element[0].id,animations:{},actions:{},attributes:{},updateNav:this.setup.options.updateNav,transition:this.setup.options.transition,options:{hideFromNav:!1,unbindScroll:!1}},section=$.extend(!0,defaults,section);return this.setup.sections.push(section),section}},section:function(section){return this.utils.extendSection.call(this,section)},audio:function(status){return status===undefined?this._muted?!1:!0:void $.Immerse.audioController.changeStatus(this,status)},changeSection:function(goVar){return goVar===undefined?!1:void $.Immerse.scrollController.doScroll(this,$target)}},$.Immerse={setup:function(setup){return new Immerse(this).setup(setup)}}}(jQuery,window,document),function($,window,document,undefined){var ImmerseScrollController=function(){};ImmerseScrollController.prototype={init:function(imm){var that=this;return this.imm=imm,this.imm._scrollContainer=$($(this.imm.elem)[0]===$("body")[0]?window:this.imm.elem),this.imm._currentSection=this.imm._sections[0],this.imm._sectionBelow=this.imm._sections[1],this.imm._scrollContainer.scrollTop(0),this.imm._scrollUnbound=this.imm._currentSection.options.unbindScroll?!0:!1,this.imm.$elem.on("immInit sectionChanged",function(e,d){"sectionChanged"===e.type&&(that.imm._scrollUnbound=d.current.options.unbindScroll?!0:!1),$.each(that.events,function(n,f){f.call(that)})}),this},events:{scroll:function(){this.imm._scrollContainer.on("mousewheel wheel DOMMouseScroll",this.handlers.scroll.detect.bind(this))},keys:function(){$(document).on("keydown",this.handlers.keys.down.bind(this)),$(document).on("keyup",this.handlers.keys.up.bind(this))},touch:function(){return this.imm._isDesktop?!1:($(document).off("touchstart touchmove touchend"),this.imm._scrollUnbound?$(document).on("touchmove",this.unbound.bind(this)):$(document).on("touchstart",this.handlers.touch.start.bind(this)),void $(document).off("swipedown swipeup").on("swipedown swipeup",this.handlers.touch.detect.bind(this)))}},handlers:{scroll:{detect:function(e){this.imm._scrollUnbound?(this.handlers.scroll.toggle("enable",e),this.unbound.call(this,e)):(this.handlers.scroll.toggle("disable",e),e.originalEvent.wheelDelta>=0?this.ifCanThenGo.call(this,this.imm,"UP"):this.ifCanThenGo.call(this,this.imm,"DOWN"))},toggle:function(status,e){function preventDefaultScroll(e){e=e||window.event,e.preventDefault&&e.preventDefault(),e.returnValue=!1}"enable"===status?(window.removeEventListener&&window.removeEventListener("DOMMouseScroll",preventDefaultScroll,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null):"disable"===status&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",preventDefaultScroll,!1),window.onwheel=preventDefaultScroll,window.onmousewheel=document.onmousewheel=preventDefaultScroll,window.ontouchmove=preventDefaultScroll)}},keys:{down:function(e){if(!this.imm._scrollUnbound&&this.imm._lastKey&&this.imm._lastKey.which==e.which)return void e.preventDefault();switch(this.imm._lastKey=e,e.which){case 38:this.imm._scrollUnbound?this.unbound.call(this,e):(e.preventDefault(),this.ifCanThenGo.call(this,this.imm,"UP"));break;case 40:this.imm._scrollUnbound?this.unbound.call(this,e):(e.preventDefault(),this.ifCanThenGo.call(this,this.imm,"DOWN"));break;default:return}},up:function(e){this.imm._lastKey=null}},touch:{start:function(e){var data=e.originalEvent.touches?e.originalEvent.touches[0]:e;this.imm._touchStartData={time:(new Date).getTime(),coords:[data.pageX,data.pageY]},$(document).on("touchmove",this.handlers.touch.move.bind(this)).one("touchend",this.handlers.touch.end.bind(this))},move:function(e){if(this.imm._touchStartData){var data=e.originalEvent.touches?e.originalEvent.touches[0]:e;this.imm._touchStopData={time:(new Date).getTime(),coords:[data.pageX,data.pageY]},Math.abs(this.imm._touchStartData.coords[1]-this.imm._touchStopData.coords[1])>10&&e.preventDefault()}},end:function(e){if($(document).off("touchmove",this.handlers.touch.move),this.imm._touchStartData&&this.imm._touchStopData&&this.imm._touchStopData.time-this.imm._touchStartData.time<1e3&&Math.abs(this.imm._touchStartData.coords[1]-this.imm._touchStopData.coords[1])>30&&Math.abs(this.imm._touchStartData.coords[0]-this.imm._touchStopData.coords[0])<75){var direction=this.imm._touchStartData.coords[1]>this.imm._touchStopData.coords[1]?"swipeup":"swipedown";$(document).trigger(direction)}this.imm._touchStartData=this.imm._touchStopData=undefined},detect:function(e){if(this.imm._scrollUnbound)return!1;switch(e.type){case"swipedown":this.ifCanThenGo.call(this,this.imm,"UP");break;case"swipeup":this.ifCanThenGo.call(this,this.imm,"DOWN");break;default:return}}}},ifCanThenGo:function(imm,goVar){this.imm=this.imm===undefined?imm:this.imm,this.imm._isScrolling===!1&&this.imm._canScroll===!0&&(this.imm._isScrolling=!0,this.go.fire.call(this,goVar))},go:{prepare:function(o){var a={currentSection:this.imm._currentSection};return a.$currentSection=$(a.currentSection.element),a.currentSectionIndex=this.imm._sections.indexOf(a.currentSection),o.jquery?(a.nextSection=$.grep(this.imm._sections,function(s){return o[0].id==s.element[0].id})[0],a.direction=a.currentSection.scrollOffset>a.nextSection.scrollOffset?"UP":"DOWN"):("UP"===o||"DOWN"===o)&&(a.direction=o,a.nextSection="UP"===a.direction?this.imm._sections[a.currentSectionIndex-1]:this.imm._sections[a.currentSectionIndex+1]),"UP"===a.direction?a.triggers={exiting:"exitingUp",entering:"enteringUp",exited:"exitedUp",entered:"enteredUp"}:"DOWN"===a.direction&&(a.triggers={exiting:"exitingDown",entering:"enteringDown",exited:"exitedDown",entered:"enteredDown"}),a.nextSection===undefined?!1:(a.$nextSection=$(a.nextSection.element),a.nextSectionIndex=this.imm._sections.indexOf(a.nextSection),this.imm._sectionAbove=this.imm._sections[a.nextSectionIndex-1],this.imm._sectionBelow=this.imm._sections[a.nextSectionIndex+1],a)},fire:function(o){var opts=this.go.prepare.call(this,o);return opts===!1?(this.imm._isScrolling=!1,this.imm._canScroll=!0,!1):void(opts.nextSection.options.unbindScroll?opts.currentSection.options.unbindScroll?this.go.change.call(this,opts):"UP"===opts.direction?this.go.change.call(this,opts):"DOWN"===opts.direction&&this.go.animate.call(this,opts):this.go.animate.call(this,opts))},animate:function(opts){var dist=opts.nextSection.scrollOffset,that=this;opts.$currentSection.trigger(opts.triggers.exiting),opts.$nextSection.trigger(opts.triggers.entering),this.imm.$elem.animate({scrollTop:dist},1e3,function(){opts.$nextSection.trigger(opts.triggers.entered),opts.$currentSection.trigger(opts.triggers.exited),that.imm._lastSection=opts.currentSection,that.imm._currentSection=opts.nextSection,that.imm.$elem.trigger("sectionChanged",[{last:that.imm._lastSection,current:that.imm._currentSection,below:that.imm._sectionBelow,above:that.imm._sectionAbove}]),setTimeout(function(){that.imm._isScrolling=!1,that.imm._canScroll=!0},500)})},change:function(opts){var that=this;opts.$currentSection.trigger(opts.triggers.exiting),opts.$nextSection.trigger(opts.triggers.entering),opts.$nextSection.trigger(opts.triggers.entered),this.imm._lastSection=opts.currentSection,this.imm._currentSection=opts.nextSection,this.imm.$elem.trigger("sectionChanged",[{last:that.imm._lastSection,current:that.imm._currentSection,below:that.imm._sectionBelow,above:that.imm._sectionAbove}]),this.imm._isScrolling=!1,this.imm._canScroll=!0}},unbound:function(e){var isAbove=this.imm._scrollContainer.scrollTop()<=this.imm._currentSection.scrollOffset,belowVal=this.imm._sectionBelow.options.unbindScroll===!1?this.imm._sectionBelow.scrollOffset-this.imm._windowHeight:this.imm._sectionBelow.scrollOffset,isBelow=this.imm._scrollContainer.scrollTop()>=belowVal;if(isAbove){if(this.utils.isScrollEvent(e)&&e.originalEvent.wheelDelta<0)return;if(this.utils.isKeydownEvent(e)&&38!==e.which)return;this.imm._sectionAbove.options.unbindScroll?this.ifCanThenGo.call(this,this.imm,"UP"):(e.preventDefault(),this.imm._scrollUnbound=!1,this.ifCanThenGo.call(this,this.imm,"UP"))}else if(isBelow){if(this.utils.isScrollEvent(e)&&e.originalEvent.wheelDelta>=0)return;if(this.utils.isKeydownEvent(e)&&40!==e.which)return;this.imm._sectionBelow.options.unbindScroll?this.ifCanThenGo.call(this,this.imm,"DOWN"):(e.preventDefault(),this.imm._scrollUnbound=!1,this.ifCanThenGo.call(this,this.imm,"DOWN"))}},sectionOffset:{set:function(s){s.scrollOffset=$(s.element).offset().top},update:function(imm){this.imm=this.imm===undefined?imm:this.imm;var that=this;$.each(this.imm._sections,function(i,s){that.sectionOffset.set.call(that,s)})}},stick:function(imm){if(this.imm=this.imm===undefined?imm:this.imm,!this.imm._scrollUnbound){var t=this.imm._currentSection.scrollOffset;this.imm._scrollContainer.scrollTop(t)}},utils:{isScrollEvent:function(e){return"wheel"===e.type||"DOMMouseScroll"===e.type||"mousewheel"===e.type},isKeydownEvent:function(e){return"keydown"===e.type}}},$.Immerse.scrollController={init:function(imm){return new ImmerseScrollController(this).init(imm)},doScroll:function(imm,goVar){var controller=new ImmerseScrollController(this);return controller.ifCanThenGo.call(controller,imm,goVar),controller},updateSectionOffsets:function(imm){var controller=new ImmerseScrollController(this);return controller.sectionOffset.update.call(controller,imm),controller},stickSection:function(imm){var controller=new ImmerseScrollController(this);return controller.stick.call(controller,imm),controller}}}(jQuery,window,document),function($,window,document,undefined){var ImmerseVideoController=function(){};ImmerseVideoController.prototype={init:function(imm,s,$wrapper){if(this.imm=imm,this.imm._isMobile)return!1;var $video=$wrapper.find("video"),$s=$(s.element),that=this;return $s.on("init enteringDown enteringUp",function(e){("init"!==e.type||s.element===that.imm._currentSection.element)&&($video.css({visibility:"hidden"}).one("canplaythrough",function(){that.resize.call(that,$wrapper,$video)}).one("playing",function(){$video.css("visibility","visible"),$wrapper.css("background-image","none")}),$video[0].paused&&($video[0].play(),that.resize.call(that,$wrapper,$video)))}),$s.on("exitedDown exitedUp",function(){$video[0].paused||($video[0].pause(),$video[0].currentTime=0)}),this},resizeAll:function(imm){this.imm=this.imm===undefined?imm:this.imm;var that=this;$.each(this.imm.$elem.find("[data-imm-video]"),function(i,wrapper){var $wrapper=$(wrapper),$video=$wrapper.find("video");that.resize.call(that,$wrapper,$video)})},resize:function(wrapper,video){var $wrapper=$(wrapper),$video=$(video),videoHeight=$video[0].videoHeight,videoWidth=$video[0].videoWidth,wrapperHeight=$wrapper.height(),wrapperWidth=$wrapper.width();wrapperWidth/videoWidth>wrapperHeight/videoHeight?$video.css({width:wrapperWidth+2,height:"auto"}):$video.css({width:"auto",height:wrapperHeight+2})}},$.Immerse.videoController={init:function(imm,s,$wrapper){return new ImmerseVideoController(this).init(imm,s,$wrapper)},resizeAll:function(imm){return new ImmerseVideoController(this).resizeAll(imm)}}}(jQuery,window,document),function($,window,document,undefined){var ImmerseAudioController=function(){};ImmerseAudioController.prototype={init:function(imm){this.imm=imm,this.imm._audioPlaying=[];var that=this;return this.muteBtns.init.call(this),this.handleChange.call(this,this,this.imm._currentSection.audio),this.imm.$elem.on("sectionChanged",function(e,d){that.handleChange.call(that,that,d.current.audio)}),this.handleBlurFocus.call(this),this},handleChange:function(that,audioObj){if(this.imm._muted)return!1;this.imm._audioPlaying=[],this.start.call(this,audioObj);var audioToMute=this.imm._allAudio.filter(function(a){return-1===$.inArray(a,that.imm._audioPlaying)});this.mute.call(this,audioToMute)},start:function(audioObj){var that=this;audioObj!==undefined&&$.each(audioObj,function(name,o){var $a=$("audio#"+name),d=isNaN(o.delay)?0:o.delay;that.imm._audioPlaying.push(name),$a[0].paused&&($a[0].volume=0,$a[0].play()),TweenMax.to($a,o.changeDuration,{volume:o.volume,ease:Linear.easeNone,delay:d})})},mute:function(audioToMute){$.each(audioToMute,function(i,name){var $a=$("audio#"+name);TweenMax.to($a,1,{volume:0,ease:Linear.easeNone,onComplete:function(){$a[0].pause(),$a[0].currentTime=0}})})},muteBtns:{init:function(){var that=this;this.imm._$muteBtns=this.imm.$elem.find(".imm-mute"),"muted"===this.imm.utils.cookies.get("immAudioState")?this.muteBtns.change.call(this,"off"):this.muteBtns.change.call(this,"on"),this.imm._$muteBtns.on("click",function(){that.muteBtns.click.call(that)})},change:function(state){var s;"off"===state?(s=this.imm.setup.options.muteButton.muted,this.imm._$muteBtns.addClass("imm-muted").html(s),this.imm._muted=!0):(s=this.imm.setup.options.muteButton.unmuted,this.imm._$muteBtns.removeClass("imm-muted").html(s),this.imm._muted=!1)},muteAll:function(imm){this.imm=this.imm===undefined?imm:this.imm;var audioToMute=this.imm._audioPlaying;this.mute.call(this,audioToMute),this.muteBtns.change.call(this,"off"),this.imm.utils.cookies.set.call(this,"immAudioState","muted",3650)},unmuteAll:function(imm){this.imm=this.imm===undefined?imm:this.imm;var currentAudio=this.imm._currentSection.audio;this.start.call(this,currentAudio),this.muteBtns.change.call(this,"on"),this.imm.utils.cookies.set.call(this,"immAudioState","",3650)},click:function(){this.imm._muted?this.muteBtns.unmuteAll.call(this):this.muteBtns.muteAll.call(this)}},handleBlurFocus:function(){var that=this;$(window).on("blur",function(){var audioToMute=that.imm._audioPlaying;that.imm._muted||that.mute.call(that,audioToMute)}),$(window).on("focus",function(){var currentAudio=that.imm._currentSection.audio;that.imm._muted||that.start.call(that,currentAudio)})}},$.Immerse.audioController={init:function(imm){return new ImmerseAudioController(this).init(imm)},changeStatus:function(imm,status){var controller=new ImmerseAudioController(this);return"unmute"===status?controller.muteBtns.unmuteAll.call(controller,imm):"mute"===status&&controller.muteBtns.muteAll.call(controller,imm),controller}}}(jQuery,window,document);
//# sourceMappingURL=immerse.min.js.map