$grey: #43433b;
$yellow: #f5da55;
$ltblue: #d0deec;

@import "compass/reset";
@import 'compass';
@import 'compass/layout';
@import 'mixins';
@import 'scaffold';
@import 'global';
@import 'buttons';
@import 'navigation';

$jumpBezier: cubic-bezier(.25,1.43,.55,.99);

[data-imm-section="header"] {
  color: white;
  .subtitle {
    margin: 1em .5em;
  }
  .buttons {
    padding-top: 2em;
    button { margin-bottom: .5em; }
  }
}

// Common unbound & fixed section styles
[data-imm-section="boards"] {
  .example-boards {
    li {
      button {
        @include stretch(0, 0, -30px, 0); background-color: transparent;
      }
      &:nth-of-type(1) button {
        @include bg2x(assets/images/board-1, jpg, 160px, 584px);
        background-position: top center;
      }
      &:nth-of-type(2) button {
        @include bg2x(assets/images/board-2, jpg, 143px, 575px);
        background-position: top center;
      }
      &:nth-of-type(3) button {
        @include bg2x(assets/images/board-3, jpg, 139px, 580px);
        background-position: top center;
      }
    }
  }
}

.board-modal {
  [data-imm-modal-action="close"] {
    position: absolute;
    top: 0; right: 0; width: 50px; height: 50px;
    background-color: transparent;
  }
  .board-image-container {
    display: block;
    padding: 3em;
  }
  img {
    width: 100%; height: auto;
  }
  .board-info { padding-top: 3em; }
}

@media screen and (max-width: $tablet-break) {
  .board-modal {
    .board-image-container {
      padding: 2em;
      height: 350px; overflow: hidden;
      border-bottom: 1px solid darken(white, 5%);
    }
  }
}

@media screen and (min-width: $tablet-break) {
  .board-modal {
    & > .container-fluid {
      padding: 0 5em;
    }
  }
}

// Fixed section styles
[data-imm-section="boards"].imm-fullscreen {
  .imm-vertcenter {
    padding-bottom: 50vh;
  }
  .example-boards {
    position: absolute;
    bottom: 0; left: 0; width: 100%;
    li {
      height: 60vh; position: relative;
      button {
        @include transition(transform .4s $jumpBezier);
      }
      &:hover button {
        @include translateY(-20px);
        @include transition(transform .4s $jumpBezier);
      }
    }
  }
}

// Unbound section styles
[data-imm-section="boards"]:not(.imm-fullscreen) {
  padding-top: 100px; padding-bottom: 100px;
  .example-boards {
    margin-top: 2em;
    li {
      height: 350px;
      button { @include background-size(contain); }
    }
  }
}

[data-imm-section="tutors"] {
  background: $yellow;
  .steve, .sarah {
    position: relative;
    height: 200px;
    img { height: 100%; width: auto; max-width: 100%; }
    .name { position: absolute; left: 0; width: 100%; @include titlefont(); color: white; line-height: 2; }
  }
}

[data-imm-section="tutors"].imm-fullscreen {
  .title { padding-top: 5vh; padding-bottom: 7vh; }
  .next { padding-top: 5vh; }
  .steve, .sarah {
    position: relative;
  }
  .steve {
    height: 35vh; float: right; margin-right: -30px;
    img { float: right; }
    .name { bottom: 100%; margin-bottom: 1em; border-bottom: 2px solid white; }
  }
  .sarah {
    height: 40vh; float: left; margin-top: 40px; margin-left: -120px;
    img { float: left; }
    .name { top: 100%; margin-top: .5em; border-top: 2px solid white; text-align: right; }
  }
}

[data-imm-section="tutors"]:not(.imm-fullscreen) {
  padding-top: 4em; padding-bottom: 4em;
  .steve, .sarah {
    margin: 4em 0 2em 0; text-align: center;
    img { display: inline-block; }
    .name { bottom: 100%; padding-bottom: .5em; }
  }
}

[data-imm-section="learn"] {
  p.lead { margin-top: 3em; }
  .surfers-bondi {
    margin: 50px 0;
  }
  h2 i { color: $yellow; }
}

@media screen and (max-width: $tablet-break) {
  [data-imm-section="learn"] {
    padding-top: 4em; padding-bottom: 4em;
  }
}

@media screen and (min-width: $tablet-break) {
  [data-imm-section="learn"] {
    padding-top: 200px;
    padding-bottom: 200px;
  }
}

[data-imm-section="join"] {
  color: white;
  background-color: $ltblue;
  input[type="email"], input[type="text"] {
    display: block; background-color: rgba(white, .7);
    width: 100%;
    font-size: 1.5em; border: none !important;
    padding: .5em 1em .5em 1em;
    color: $grey; margin-bottom: 25px;
    &:focus { outline: 0; background-color: rgba(white, 1) }
  }
}

[data-imm-loading] {
  object {
    width: 100px; height: auto;
    @include animation(bounce 1s infinite .5s);
  }
}